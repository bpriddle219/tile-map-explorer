!function(i){var t={};function e(h){if(t[h])return t[h].exports;var d=t[h]={i:h,l:!1,exports:{}};return i[h].call(d.exports,d,d.exports,e),d.l=!0,d.exports}e.m=i,e.c=t,e.d=function(i,t,h){e.o(i,t)||Object.defineProperty(i,t,{enumerable:!0,get:h})},e.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},e.t=function(i,t){if(1&t&&(i=e(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var h=Object.create(null);if(e.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var d in i)e.d(h,d,function(t){return i[t]}.bind(null,d));return h},e.n=function(i){var t=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(t,"a",t),t},e.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},e.p="",e(e.s=1)}([function(i){i.exports={height:24,infinite:!1,layers:[{data:[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,9,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,10,10,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,10,9,9,9,9,9,9,10,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],height:24,id:1,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Object Layer 1",objects:[{gid:10,height:32,id:4,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:32},{gid:10,height:32,id:5,name:"",rotation:0,type:"",visible:!0,width:32,x:960,y:32},{gid:10,height:32,id:6,name:"",rotation:0,type:"",visible:!0,width:32,x:928,y:32},{gid:10,height:32,id:7,name:"",rotation:0,type:"",visible:!0,width:32,x:960,y:32},{gid:10,height:32,id:8,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:32},{gid:10,height:32,id:11,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:32},{gid:10,height:32,id:12,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:64},{gid:10,height:32,id:13,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:96},{gid:10,height:32,id:14,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:128},{gid:10,height:32,id:15,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:160},{gid:10,height:32,id:16,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:32},{gid:10,height:32,id:17,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:64},{gid:10,height:32,id:18,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:96},{gid:10,height:32,id:19,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:128},{gid:10,height:32,id:21,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:192},{gid:10,height:32,id:22,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:224},{gid:10,height:32,id:23,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:320},{gid:10,height:32,id:24,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:256},{gid:10,height:32,id:25,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:288},{gid:10,height:32,id:26,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:384},{gid:10,height:32,id:27,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:384},{gid:10,height:32,id:28,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:352},{gid:10,height:32,id:29,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:416},{gid:10,height:32,id:30,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:448},{gid:10,height:32,id:31,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:480},{gid:10,height:32,id:32,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:512},{gid:10,height:32,id:33,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:544},{gid:10,height:32,id:34,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:576},{gid:10,height:32,id:35,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:640},{gid:10,height:32,id:36,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:608},{gid:10,height:32,id:37,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:704},{gid:10,height:32,id:38,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:672},{gid:10,height:32,id:39,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:736},{gid:10,height:32,id:40,name:"",rotation:0,type:"",visible:!0,width:32,x:992,y:768},{gid:10,height:32,id:41,name:"",rotation:0,type:"",visible:!0,width:32,x:960,y:768},{gid:10,height:32,id:42,name:"",rotation:0,type:"",visible:!0,width:32,x:928,y:768},{gid:10,height:32,id:43,name:"",rotation:0,type:"",visible:!0,width:32,x:896,y:768},{gid:10,height:32,id:44,name:"",rotation:0,type:"",visible:!0,width:32,x:832,y:768},{gid:10,height:32,id:45,name:"",rotation:0,type:"",visible:!0,width:32,x:864,y:768},{gid:10,height:32,id:46,name:"",rotation:0,type:"",visible:!0,width:32,x:800,y:768},{gid:10,height:32,id:47,name:"",rotation:0,type:"",visible:!0,width:32,x:768,y:768},{gid:10,height:32,id:48,name:"",rotation:0,type:"",visible:!0,width:32,x:736,y:768},{gid:10,height:32,id:49,name:"",rotation:0,type:"",visible:!0,width:32,x:704,y:768},{gid:10,height:32,id:50,name:"",rotation:0,type:"",visible:!0,width:32,x:672,y:768},{gid:10,height:32,id:51,name:"",rotation:0,type:"",visible:!0,width:32,x:640,y:768},{gid:10,height:32,id:52,name:"",rotation:0,type:"",visible:!0,width:32,x:608,y:768},{gid:10,height:32,id:53,name:"",rotation:0,type:"",visible:!0,width:32,x:576,y:768},{gid:10,height:32,id:54,name:"",rotation:0,type:"",visible:!0,width:32,x:544,y:768},{gid:10,height:32,id:55,name:"",rotation:0,type:"",visible:!0,width:32,x:512,y:768},{gid:10,height:32,id:56,name:"",rotation:0,type:"",visible:!0,width:32,x:480,y:768},{gid:10,height:32,id:57,name:"",rotation:0,type:"",visible:!0,width:32,x:448,y:768},{gid:10,height:32,id:58,name:"",rotation:0,type:"",visible:!0,width:32,x:608,y:640},{gid:10,height:32,id:59,name:"",rotation:0,type:"",visible:!0,width:32,x:640,y:640},{gid:10,height:32,id:60,name:"",rotation:0,type:"",visible:!0,width:32,x:640,y:608},{gid:10,height:32,id:61,name:"",rotation:0,type:"",visible:!0,width:32,x:416,y:768},{gid:10,height:32,id:62,name:"",rotation:0,type:"",visible:!0,width:32,x:384,y:768},{gid:10,height:32,id:63,name:"",rotation:0,type:"",visible:!0,width:32,x:352,y:768},{gid:10,height:32,id:64,name:"",rotation:0,type:"",visible:!0,width:32,x:320,y:768},{gid:10,height:32,id:65,name:"",rotation:0,type:"",visible:!0,width:32,x:288,y:768},{gid:10,height:32,id:66,name:"",rotation:0,type:"",visible:!0,width:32,x:256,y:768},{gid:10,height:32,id:67,name:"",rotation:0,type:"",visible:!0,width:32,x:224,y:768},{gid:10,height:32,id:68,name:"",rotation:0,type:"",visible:!0,width:32,x:192,y:768},{gid:10,height:32,id:69,name:"",rotation:0,type:"",visible:!0,width:32,x:160,y:768},{gid:10,height:32,id:70,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:768},{gid:10,height:32,id:71,name:"",rotation:0,type:"",visible:!0,width:32,x:96,y:768},{gid:10,height:32,id:72,name:"",rotation:0,type:"",visible:!0,width:32,x:64,y:768},{gid:10,height:32,id:73,name:"",rotation:0,type:"",visible:!0,width:32,x:32,y:768},{gid:10,height:32,id:74,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:768},{gid:10,height:32,id:75,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:736},{gid:10,height:32,id:76,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:704},{gid:10,height:32,id:77,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:672},{gid:10,height:32,id:78,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:640},{gid:10,height:32,id:79,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:608},{gid:10,height:32,id:80,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:576},{gid:10,height:32,id:81,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:544},{gid:10,height:32,id:82,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:512},{gid:10,height:32,id:83,name:"",rotation:0,type:"",visible:!0,width:32,x:96,y:512},{gid:10,height:32,id:84,name:"",rotation:0,type:"",visible:!0,width:32,x:96,y:544},{gid:10,height:32,id:85,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:512},{gid:10,height:32,id:86,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:480},{gid:10,height:32,id:87,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:480},{gid:10,height:32,id:88,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:448},{gid:10,height:32,id:89,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:416},{gid:10,height:32,id:90,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:384},{gid:10,height:32,id:91,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:352},{gid:10,height:32,id:92,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:320},{gid:10,height:32,id:93,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:288},{gid:10,height:32,id:94,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:256},{gid:10,height:32,id:95,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:224},{gid:10,height:32,id:96,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:192},{gid:10,height:32,id:97,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:192},{gid:10,height:32,id:98,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:224},{gid:10,height:32,id:99,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:256},{gid:10,height:32,id:100,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:288},{gid:10,height:32,id:101,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:320},{gid:10,height:32,id:102,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:352},{gid:10,height:32,id:103,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:384},{gid:10,height:32,id:104,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:416},{gid:10,height:32,id:105,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:448},{gid:10,height:32,id:106,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:160},{gid:10,height:32,id:107,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:128},{gid:10,height:32,id:108,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:96},{gid:10,height:32,id:109,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:64},{gid:10,height:32,id:110,name:"",rotation:0,type:"",visible:!0,width:32,x:0,y:32},{gid:10,height:32,id:111,name:"",rotation:0,type:"",visible:!0,width:32,x:32,y:32},{gid:10,height:32,id:112,name:"",rotation:0,type:"",visible:!0,width:32,x:64,y:32},{gid:10,height:32,id:113,name:"",rotation:0,type:"",visible:!0,width:32,x:96,y:32},{gid:10,height:32,id:114,name:"",rotation:0,type:"",visible:!0,width:32,x:128,y:32},{gid:10,height:32,id:115,name:"",rotation:0,type:"",visible:!0,width:32,x:160,y:32},{gid:10,height:32,id:116,name:"",rotation:0,type:"",visible:!0,width:32,x:192,y:32},{gid:10,height:32,id:117,name:"",rotation:0,type:"",visible:!0,width:32,x:224,y:32},{gid:10,height:32,id:118,name:"",rotation:0,type:"",visible:!0,width:32,x:256,y:32},{gid:10,height:32,id:119,name:"",rotation:0,type:"",visible:!0,width:32,x:320,y:32},{gid:10,height:32,id:120,name:"",rotation:0,type:"",visible:!0,width:32,x:288,y:32},{gid:10,height:32,id:121,name:"",rotation:0,type:"",visible:!0,width:32,x:352,y:32},{gid:10,height:32,id:122,name:"",rotation:0,type:"",visible:!0,width:32,x:384,y:32},{gid:10,height:32,id:123,name:"",rotation:0,type:"",visible:!0,width:32,x:416,y:32},{gid:10,height:32,id:124,name:"",rotation:0,type:"",visible:!0,width:32,x:448,y:32},{gid:10,height:32,id:125,name:"",rotation:0,type:"",visible:!0,width:32,x:512,y:32},{gid:10,height:32,id:126,name:"",rotation:0,type:"",visible:!0,width:32,x:544,y:32},{gid:10,height:32,id:127,name:"",rotation:0,type:"",visible:!0,width:32,x:480,y:32},{gid:10,height:32,id:128,name:"",rotation:0,type:"",visible:!0,width:32,x:576,y:32},{gid:10,height:32,id:129,name:"",rotation:0,type:"",visible:!0,width:32,x:608,y:32},{gid:10,height:32,id:130,name:"",rotation:0,type:"",visible:!0,width:32,x:640,y:32},{gid:10,height:32,id:131,name:"",rotation:0,type:"",visible:!0,width:32,x:672,y:32},{gid:10,height:32,id:132,name:"",rotation:0,type:"",visible:!0,width:32,x:704,y:32},{gid:10,height:32,id:133,name:"",rotation:0,type:"",visible:!0,width:32,x:768,y:32},{gid:10,height:32,id:134,name:"",rotation:0,type:"",visible:!0,width:32,x:736,y:32},{gid:10,height:32,id:135,name:"",rotation:0,type:"",visible:!0,width:32,x:800,y:32},{gid:10,height:32,id:136,name:"",rotation:0,type:"",visible:!0,width:32,x:832,y:32},{gid:10,height:32,id:137,name:"",rotation:0,type:"",visible:!0,width:32,x:864,y:32},{gid:10,height:32,id:138,name:"",rotation:0,type:"",visible:!0,width:32,x:896,y:32},{gid:10,height:32,id:139,name:"",rotation:0,type:"",visible:!0,width:32,x:800,y:288},{gid:10,height:32,id:140,name:"",rotation:0,type:"",visible:!0,width:32,x:800,y:256},{gid:10,height:32,id:141,name:"",rotation:0,type:"",visible:!0,width:32,x:768,y:256},{gid:10,height:32,id:142,name:"",rotation:0,type:"",visible:!0,width:32,x:768,y:224},{gid:10,height:32,id:143,name:"",rotation:0,type:"",visible:!0,width:32,x:768,y:192},{gid:10,height:32,id:144,name:"",rotation:0,type:"",visible:!0,width:32,x:736,y:192},{gid:10,height:32,id:145,name:"",rotation:0,type:"",visible:!0,width:32,x:736,y:160},{gid:10,height:32,id:146,name:"",rotation:0,type:"",visible:!0,width:32,x:704,y:160},{gid:10,height:32,id:147,name:"",rotation:0,type:"",visible:!0,width:32,x:672,y:160},{gid:10,height:32,id:148,name:"",rotation:0,type:"",visible:!0,width:32,x:640,y:160},{gid:10,height:32,id:149,name:"",rotation:0,type:"",visible:!0,width:32,x:576,y:160},{gid:10,height:32,id:150,name:"",rotation:0,type:"",visible:!0,width:32,x:608,y:160},{gid:10,height:32,id:151,name:"",rotation:0,type:"",visible:!0,width:32,x:576,y:192},{gid:10,height:32,id:152,name:"",rotation:0,type:"",visible:!0,width:32,x:544,y:192},{gid:10,height:32,id:153,name:"",rotation:0,type:"",visible:!0,width:32,x:544,y:224}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],nextlayerid:3,nextobjectid:154,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.2.0",tileheight:32,tilesets:[{firstgid:1,source:"tileset.json"}],tilewidth:32,type:"map",version:1.2,width:32}},function(i,t,e){"use strict";e.r(t);class h{constructor(){this.oldState={},this.newState={},window.addEventListener("keydown",i=>{i.preventDefault(),this.newState[i.key]=!0}),window.addEventListener("keyup",i=>{i.preventDefault(),this.newState[i.key]=!1})}update(){this.oldState=JSON.parse(JSON.stringify(this.newState))}keyPressed(i){return this.newState[i]}keyDown(i){return this.newState[i]&&!this.oldState[i]}keyUp(i){return!this.newState[i]&&this.oldState[i]}}var d=e(0);var n=new class{constructor(i,t){this._start=null,this.WIDTH=i,this.HEIGHT=t,this.input=new h,this.entities=[],this.tile_data=d.layers[0].data,this.tiles_width=d.width,this.tiles_height=d.height,this.tile_size=d.tileheight,this.tileset=new Image,this.tileset.src="tileset.png",this.backBuffer=document.createElement("canvas"),this.backBuffer.width=this.WIDTH,this.backBuffer.height=this.HEIGHT,this.backBufferCtx=this.backBuffer.getContext("2d"),this.screenBuffer=document.createElement("canvas"),this.screenBuffer.width=this.WIDTH,this.screenBuffer.height=this.HEIGHT,this.screenBufferCtx=this.screenBuffer.getContext("2d"),document.body.append(this.screenBuffer)}addEntity(i){this.entities.push(i)}update(i){this.entities.forEach(t=>t.update(i,this.input)),this.input.update()}render(i){this.backBufferCtx.fillStyle="white",this.backBufferCtx.fillRect(0,0,this.WIDTH,this.HEIGHT);for(var t=0,e=0;e<this.tiles_height*this.tile_size;e+=this.tile_size)for(var h=0;h<this.tiles_width*this.tile_size;h+=this.tile_size){var d=this.tile_data[t],n=d>8?this.tile_size:0,a=(d%8-1)*this.tile_size;this.backBufferCtx.drawImage(this.tileset,a,n,this.tile_size,this.tile_size,h,e,this.tile_size,this.tile_size),t++}this.entities.forEach(t=>t.render(i,this.backBufferCtx)),this.screenBufferCtx.drawImage(this.backBuffer,0,0)}loop(i){var t=this._frame_start?i-this._frame_start:0;this.update(t),this.render(t),this._frame_start=i,window.requestAnimationFrame(i=>{this.loop(i)})}}(1024,768);n.addEntity(new class{constructor(i,t,e,h){this.x=i,this.y=t,this.dir=e,this.moving=h,this.tileset=new Image,this.tileset.src="tileset.png",this.frameCount=0,this.switch=0;var n=[];d.layers[1].objects.forEach(function(i){var t={x:i.x,y:i.y-32};n.push(t)}),this.no_go=n}update(i,t){if(!this.frameCount&&t.keyDown("ArrowLeft")||this.frameCount&&2==this.dir){if(this.dir=2,!this.frameCount&&!this.checkForCollisions(Math.round(this.x-32),Math.round(this.y)))return;this.x-=1.6,this.moving=!0,this.frameCount++,20==this.frameCount&&(this.frameCount=0,this.x=Math.round(this.x))}else if(!this.frameCount&&t.keyDown("ArrowRight")||this.frameCount&&3==this.dir){if(this.dir=3,!this.frameCount&&!this.checkForCollisions(Math.round(this.x+32),Math.round(this.y)))return;this.x+=1.6,this.moving=!0,this.frameCount++,20==this.frameCount&&(this.frameCount=0,this.x=Math.round(this.x))}else if(!this.frameCount&&t.keyDown("ArrowUp")||this.frameCount&&1==this.dir){if(this.dir=1,!this.frameCount&&!this.checkForCollisions(Math.round(this.x),Math.round(this.y-32)))return;this.y-=1.6,this.moving=!0,this.frameCount++,20==this.frameCount&&(this.frameCount=0,this.y=Math.round(this.y))}else if(!this.frameCount&&t.keyDown("ArrowDown")||this.frameCount&&0==this.dir){if(this.dir=0,!this.frameCount&&!this.checkForCollisions(Math.round(this.x),Math.round(this.y+32)))return;this.y+=1.6,this.moving=!0,this.frameCount++,20==this.frameCount&&(this.frameCount=0,this.y=Math.round(this.y))}else this.moving=!1,this.switch=0}checkForCollisions(i,t){i=Math.abs(i),t=Math.abs(t);for(var e=this.no_go.length,h=0;h<e;h++)if(i==this.no_go[h].x&&t==this.no_go[h].y)return!1;return!0}render(i,t){switch(t.beginPath(),this.dir){case 0:this.moving?(Math.round(this.frameCount)%6==0&&(this.switch=(this.switch+1)%2),this.switch?t.drawImage(this.tileset,32,0,32,32,this.x,this.y,32,32):t.drawImage(this.tileset,0,0,32,32,this.x,this.y,32,32)):t.drawImage(this.tileset,0,0,32,32,this.x,this.y,32,32);break;case 1:this.moving?(Math.round(this.frameCount)%6==0&&(this.switch=(this.switch+1)%2),this.switch?t.drawImage(this.tileset,96,0,32,32,this.x,this.y,32,32):t.drawImage(this.tileset,64,0,32,32,this.x,this.y,32,32)):t.drawImage(this.tileset,64,0,32,32,this.x,this.y,32,32);break;case 2:this.moving?(Math.round(this.frameCount)%7==0&&(this.switch=(this.switch+1)%2),this.switch?t.drawImage(this.tileset,160,0,32,32,this.x,this.y,32,32):t.drawImage(this.tileset,128,0,32,32,this.x,this.y,32,32)):t.drawImage(this.tileset,128,0,32,32,this.x,this.y,32,32);break;case 3:this.moving?(Math.round(this.frameCount)%7==0&&(this.switch=(this.switch+1)%2),this.switch?t.drawImage(this.tileset,224,0,32,32,this.x,this.y,32,32):t.drawImage(this.tileset,192,0,32,32,this.x,this.y,32,32)):t.drawImage(this.tileset,192,0,32,32,this.x,this.y,32,32)}}}(64,64,0,!1)),n.loop()}]);